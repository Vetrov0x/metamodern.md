---
// ThemeToggle — dark/light mode switch
---

<button
  id="theme-toggle"
  type="button"
  class="theme-toggle"
  aria-label="Toggle theme"
>
  <span id="theme-icon">◐</span> theme
</button>

<script is:inline>
  (function() {
    const btn = document.getElementById('theme-toggle');
    const icon = document.getElementById('theme-icon');
    if (!btn || !icon) return;

    function getTheme() {
      return document.documentElement.getAttribute('data-theme') || 'dark';
    }

    function setTheme(t) {
      if (t === 'light') {
        document.documentElement.setAttribute('data-theme', 'light');
      } else {
        document.documentElement.removeAttribute('data-theme');
      }
      localStorage.setItem('theme', t);
      icon.textContent = t === 'light' ? '◑' : '◐';
    }

    icon.textContent = getTheme() === 'light' ? '◑' : '◐';

    btn.addEventListener('click', function() {
      setTheme(getTheme() === 'dark' ? 'light' : 'dark');
    });
  })();
</script>
